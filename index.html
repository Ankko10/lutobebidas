<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luto Bebidas - Distribuidora</title>
    <style>
        /* --- ESTILOS TEMA DARK LUXURY --- */
        :root {
            --accent-color: #ffffff;
            --dark-bg-main: #121212; 
            --dark-bg-secondary: #1e1e1e;
            --card-bg: #ffffff;
            --text-main: #f0f0f0;
            --text-dark: #111111;
            --border-dark: #333;
        }
        
        body { 
            font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0;
            color: var(--text-main);
            overflow-x: hidden;
            background: linear-gradient(to bottom, #2c2c2c 0%, #000000 100%);
            min-height: 100vh;
        }

        /* ANIMACIONES */
        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes bounceCart { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-10px); } 60% { transform: translateY(-5px); } }

        /* PORTADA */
        #landing-view {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--dark-bg-main); 
            z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center;
        }
        .landing-logo { max-width: 300px; width: 80%; height: auto; margin-bottom: 40px; animation: fadeInDown 1.5s ease; }
        .enter-btn {
            background-color: var(--accent-color); color: var(--dark-bg-main);
            padding: 15px 50px; font-size: 1.2rem; border: none; border-radius: 50px; 
            cursor: pointer; text-transform: uppercase; font-weight: bold; 
            box-shadow: 0 0 20px rgba(255,255,255,0.1); transition: transform 0.2s;
            animation: fadeInUp 1.5s ease 0.5s backwards;
        }
        .enter-btn:hover { transform: scale(1.05); background-color: #ddd; }

        /* HEADER */
        header {
            background-color: var(--dark-bg-secondary); padding: 0.8rem 1.5rem; display: none;
            justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 2px 15px rgba(0,0,0,0.5); border-bottom: 1px solid var(--border-dark);
            animation: fadeInDown 0.5s ease;
        }
        .logo-container img { height: 45px; width: auto; cursor: pointer; transition: transform 0.2s; }
        .logo-container img:hover { transform: scale(1.05); }

        .cart-icon-btn {
            background: var(--accent-color); color: var(--dark-bg-main); 
            border: none; padding: 8px 18px; border-radius: 30px; font-weight: bold; cursor: pointer;
            display: flex; align-items: center; gap: 8px; font-size: 0.9rem;
            transition: transform 0.2s;
        }
        .cart-icon-btn:hover { transform: scale(1.05); background-color: #ddd; }
        .cart-bounce { animation: bounceCart 0.6s; }

        /* --- TIENDA (LAYOUT NUEVO) --- */
        #shop-view { display: none; max-width: 1200px; margin: 20px auto; padding: 0 20px 50px 20px; }
        
        /* Filtros */
        .categories-container { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 15px; margin-bottom: 20px; scrollbar-width: none; }
        .categories-container::-webkit-scrollbar { display: none; }
        
        .filter-btn { 
            background: rgba(255,255,255,0.1); border: 1px solid var(--border-dark); color: var(--text-main);
            padding: 8px 20px; border-radius: 20px; cursor: pointer; white-space: nowrap; transition: 0.3s;
        }
        .filter-btn.active, .filter-btn:hover { background: var(--accent-color); color: var(--dark-bg-main); transform: translateY(-2px); }

        /* BANNER AUTOM√ÅTICO */
        .banner-wrapper {
            width: 100%; overflow: hidden; margin-bottom: 30px; position: relative;
            border-bottom: 1px solid var(--border-dark); padding-bottom: 20px;
        }
        .banner-track {
            display: flex; gap: 20px; width: max-content;
            animation: scrollBanner 30s linear infinite;
        }
        .banner-track:hover { animation-play-state: paused; }
        @keyframes scrollBanner { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }

        .banner-card {
            min-width: 160px; background: var(--dark-bg-secondary); border: 1px solid var(--border-dark);
            border-radius: 10px; padding: 10px; text-align: center; cursor: pointer; transition: 0.3s;
        }
        .banner-card:hover { transform: scale(1.05); background: var(--accent-color); color: var(--dark-bg-main); }
        .banner-card img { width: 70px; height: 70px; object-fit: contain; }

        /* SECCIONES POR CATEGOR√çA (NETFLIX STYLE) */
        .category-section { margin-bottom: 40px; }
        .category-title { 
            font-size: 1.4rem; margin-bottom: 15px; padding-left: 10px; 
            border-left: 4px solid var(--accent-color); text-transform: capitalize;
        }
        .horizontal-scroll-row {
            display: flex; gap: 20px; overflow-x: auto; padding: 10px 5px 20px 5px;
            scroll-behavior: smooth; scrollbar-width: thin;
        }
        .horizontal-scroll-row::-webkit-scrollbar { height: 8px; }
        .horizontal-scroll-row::-webkit-scrollbar-track { background: #111; }
        .horizontal-scroll-row::-webkit-scrollbar-thumb { background: #444; border-radius: 4px; }

        /* TARJETAS DE PRODUCTO */
        .product-card { 
            background: var(--card-bg); color: var(--text-dark);
            min-width: 200px; /* Importante para el scroll horizontal */
            width: 200px;
            padding: 15px; border-radius: 12px; text-align: center; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); 
            transition: 0.3s;
            animation: fadeInUp 0.6s ease backwards; 
        }
        .product-card:hover { transform: translateY(-8px); box-shadow: 0 20px 50px rgba(255,255,255,0.15); }
        .product-img { width: 100%; height: 160px; object-fit: contain; margin-bottom: 10px; transition: transform 0.3s; }
        .product-card:hover .product-img { transform: scale(1.05); }

        .product-title { font-weight: 600; margin-bottom: 5px; height: 40px; display: flex; align-items: center; justify-content: center; font-size: 1rem;}
        .product-price { font-size: 1.2rem; font-weight: 800; color: #000; display: block; margin: 10px 0; }
        
        .add-btn { width: 100%; padding: 10px; background: #000; color: #fff; border: none; font-weight: bold; cursor: pointer; border-radius: 6px; transition: 0.2s; }
        .add-btn:hover { background: #333; }
        .add-btn:active { transform: scale(0.95); }

        /* CARRITO */
        #cart-view { 
            display: none; max-width: 800px; margin: 30px auto; padding: 0 20px; 
            background: var(--dark-bg-secondary); border: 1px solid var(--border-dark);
            border-radius: 15px; min-height: 60vh; box-shadow: 0 10px 40px rgba(0,0,0,0.5); 
            animation: fadeInUp 0.5s ease;
        }
        .cart-title { font-size: 1.5rem; border-bottom: 2px solid var(--border-dark); padding: 20px 0; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; font-weight: bold; }
        .cart-item-row { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px dashed var(--border-dark); transition: background-color 0.2s; }
        .cart-item-row:hover { background-color: rgba(255,255,255,0.05); }
        
        .item-thumb { width: 50px; height: 50px; object-fit: contain; border-radius: 5px; background: white;}
        .qty-btn { border: none; background: transparent; cursor: pointer; font-weight: bold; font-size: 1.2rem; padding: 0 10px; color: var(--accent-color); transition: transform 0.2s;}
        .qty-btn:active { transform: scale(1.2); }
        
        .whatsapp-btn { background-color: #25D366; color: white; width: 100%; padding: 18px; font-size: 1.2rem; font-weight: bold; border: none; border-radius: 8px; cursor: pointer; margin-top: 20px; transition: 0.3s; }
        .whatsapp-btn:hover { background-color: #128C7E; transform: translateY(-3px); box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3); }
    </style>

    <script>
        // Funciones de navegaci√≥n (Globales)
        function enterSite() {
            const landing = document.getElementById('landing-view');
            landing.style.opacity = '0';
            landing.style.transition = 'opacity 0.5s ease';
            setTimeout(() => {
                landing.style.display = 'none';
                document.getElementById('main-header').style.display = 'flex';
                document.getElementById('shop-view').style.display = 'block';
            }, 500);
        }
        function showCart() {
            document.getElementById('shop-view').style.display = 'none';
            document.getElementById('cart-view').style.display = 'block';
            if(window.renderCartDetail) window.renderCartDetail(); 
            window.scrollTo(0,0);
        }
        function goHome() {
            document.getElementById('cart-view').style.display = 'none';
            document.getElementById('shop-view').style.display = 'block';
            window.scrollTo(0,0);
        }
    </script>
</head>
<body>

<div id="landing-view">
    <img src="logo-luto.png" alt="Luto Bebidas" class="landing-logo">
    <button class="enter-btn" onclick="enterSite()">Ingresar al Cat√°logo</button>
</div>

<header id="main-header">
    <div class="logo-container" onclick="goHome()">
        <img src="logo-luto.png" alt="Luto">
    </div>
    <button class="cart-icon-btn" id="cartBtn" onclick="showCart()">
        üõí Ver Carrito (<span id="header-count">0</span>)
    </button>
</header>

<div id="shop-view">
    <div class="categories-container">
        <button class="filter-btn active" onclick="renderShop('todos')">Todos</button>
        <button class="filter-btn" onclick="renderShop('fernet')">Fernet</button>
        <button class="filter-btn" onclick="renderShop('vodka')">Vodka</button>
        <button class="filter-btn" onclick="renderShop('sin-alcohol')">Gaseosas</button>
        <button class="filter-btn" onclick="renderShop('cervezas')">Cervezas</button>
        <button class="filter-btn" onclick="renderShop('vinos')">Vinos</button>
    </div>

    <div class="banner-wrapper">
        <div class="banner-track" id="banner-track">
            </div>
    </div>

    <div id="products-container"></div>
</div>

<div id="cart-view">
    <div class="cart-title">
        <span>Tu Pedido</span>
        <button style="border:none; background:transparent; text-decoration:underline; cursor:pointer; color:#fff;" onclick="goHome()">‚Üê Volver</button>
    </div>
    <div id="cart-list-container"></div>
    <div style="text-align:right; margin-top:30px;">
        Total: <span style="font-size:2rem; font-weight:bold;">$<span id="final-total">0</span></span>
    </div>
    <button class="whatsapp-btn" onclick="sendOrder()">CONFIRMAR PEDIDO</button>
</div>

<script>
    const phoneNumber = "5493425406314"; 
    
    // BASE DE DATOS DE PRODUCTOS
    const products = [
        { id: 1, name: "Fernet Branca 750ml", category: "fernet", price: 9500, img: "fernet750.png" },
        { id: 301, name: "Absolut Vodka Tradicional", category: "vodka", price: 19000, img: "absolut.png" },
        { id: 302, name: "Absolut Vodka Saborizado", category: "vodka", price: 19500, img: "absolutsabor.png" },
        { id: 303, name: "Smirnoff Tradicional", category: "vodka", price: 7500, img: "smirnoff.png" },
        { id: 304, name: "Smirnoff Saborizado", category: "vodka", price: 8000, img: "smirnoffsabor.png" },
        { id: 305, name: "Skyy Vodka Tradicional", category: "vodka", price: 7700, img: "skyy.png" },
        { id: 306, name: "Skyy Vodka Saborizado", category: "vodka", price: 8500, img: "skyysabor.png" },
        { id: 307, name: "Skyy Cosmic", category: "vodka", price: 9500, img: "skyycosmic.png" },
        { id: 308, name: "Sernova Vodka Saborizado", category: "vodka", price: 7700, img: "sernovasabor.png" },
        { id: 101, name: "Coca-Cola 1.5L", category: "sin-alcohol", price: 3000, img: "coca15.png" },
        { id: 102, name: "Coca-Cola 1.75L", category: "sin-alcohol", price: 3300, img: "coca175.png" },
        { id: 103, name: "Coca-Cola 2.5L", category: "sin-alcohol", price: 3500, img: "coca25.png" },
        { id: 104, name: "Coca-Cola 2.75L", category: "sin-alcohol", price: 3700, img: "coca275.png" },
        { id: 105, name: "Coca Retornable 2L", category: "sin-alcohol", price: 3000, img: "cocaret2l.png" },
        { id: 106, name: "Sprite 1.5L", category: "sin-alcohol", price: 3000, img: "sprite15.png" },
        { id: 107, name: "Sprite 1.75L", category: "sin-alcohol", price: 3300, img: "sprite175.png" },
        { id: 108, name: "Sprite Zero 1.75L", category: "sin-alcohol", price: 3000, img: "spritezero175.png" },
        { id: 109, name: "7up 1.5L", category: "sin-alcohol", price: 2000, img: "7up15.png" },
        { id: 110, name: "Pepsi 1.5L", category: "sin-alcohol", price: 2000, img: "pepsi15.png" },
        { id: 111, name: "Manaos Pomelo 3L", category: "sin-alcohol", price: 0, img: "manaos3l.png" },
        { id: 112, name: "Paso de los Toros Pomelo", category: "sin-alcohol", price: 2400, img: "pasopomelo.png" },
        { id: 113, name: "Paso de los Toros T√≥nica", category: "sin-alcohol", price: 2400, img: "pasotonica.png" },
        { id: 201, name: "Budweiser Lata 473ml", category: "cervezas", price: 1800, img: "budlata.png" },
        { id: 202, name: "Budweiser Pack x6 (Lata)", category: "cervezas", price: 10000, img: "budpack.png" },
        { id: 203, name: "Santa Fe Lata 473ml", category: "cervezas", price: 1600, img: "sfelata.png" },
        { id: 204, name: "Santa Fe Pack x6 (Lata)", category: "cervezas", price: 9500, img: "sfepack.png" },
        { id: 205, name: "Santa Fe Pilsen Lata", category: "cervezas", price: 1900, img: "sfepilsenlata.png" },
        { id: 206, name: "Santa Fe Pilsen Pack x6", category: "cervezas", price: 11000, img: "sfepilsenpack.png" },
        { id: 207, name: "Brahma Pack x6 (Lata)", category: "cervezas", price: 0, img: "brahmapack.png" },
        { id: 208, name: "Heineken Lata 473ml", category: "cervezas", price: 2500, img: "heinekenlata.png" },
        { id: 209, name: "Heineken Pack x6 (Lata)", category: "cervezas", price: 14500, img: "heinekenpack.png" },
        { id: 210, name: "Miller Lata 473ml", category: "cervezas", price: 2200, img: "millerlata.png" },
        { id: 211, name: "Miller Pack x6 (Lata)", category: "cervezas", price: 12600, img: "millerpack.png" },
        { id: 212, name: "Stella Artois Pack x6", category: "cervezas", price: 0, img: "stellapack.png" },
        { id: 220, name: "Corona Porr√≥n 330ml", category: "cervezas", price: 2400, img: "coronapinina.png" },
        { id: 221, name: "Corona Pack x6 (330ml)", category: "cervezas", price: 14000, img: "coronapack.png" },
        { id: 222, name: "Stella Artois Pack x6 (Pinina)", category: "cervezas", price: 0, img: "stellapininapack.png" },
        { id: 223, name: "Miller Pack x6 (Pinina)", category: "cervezas", price: 0, img: "millerpininapack.png" },
        { id: 230, name: "Budweiser 1 Litro", category: "cervezas", price: 0, img: "bud1l.png" },
        { id: 231, name: "Corona 750ml", category: "cervezas", price: 0, img: "corona750.png" },
        { id: 232, name: "Miller 1 Litro", category: "cervezas", price: 3000, img: "miller1l.png" },
        { id: 233, name: "Bajo Cero 1 Litro", category: "cervezas", price: 0, img: "bajocero1l.png" },
        { id: 234, name: "Santa Fe 1 Litro", category: "cervezas", price: 2800, img: "sfe1l.png" },
        { id: 235, name: "Santa Fe Pilsen 1 Litro", category: "cervezas", price: 3000, img: "sfepilsen1l.png" },
        { id: 3, name: "Cerveza Quilmes Pack x6", category: "cervezas", price: 8200, img: "quilmespack.png" },
        { id: 4, name: "Vino Malbec Rutini", category: "vinos", price: 12500, img: "rutini.png" }
    ];

    let cart = [];
    const productsContainer = document.getElementById('products-container');
    const headerCount = document.getElementById('header-count');
    const cartBtn = document.getElementById('cartBtn');

    // --- L√ìGICA DE TIENDA Y BANNER ---

    function renderBanner() {
        const track = document.getElementById('banner-track');
        if(!track) return;
        track.innerHTML = '';
        
        // Seleccionamos los primeros 10 y los duplicamos para el efecto infinito
        const featured = [...products.slice(0, 10), ...products.slice