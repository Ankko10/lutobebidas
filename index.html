<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Tienda</title>
    <style>
        /* --- ESTILOS GENERALES --- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', sans-serif;
        }

        body {
            background-color: #f4f4f4;
            padding-bottom: 80px; /* Espacio para el bot√≥n flotante */
        }

        /* --- HEADER Y LOGO CIRCULAR --- */
        header {
            background: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            width: 50px;
            height: 50px;
            background-color: #333;
            border-radius: 50%; /* ESTO HACE AL LOGO CIRCULAR */
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            overflow: hidden;
        }
        
        .logo img { width: 100%; height: 100%; object-fit: cover; }

        .icono-carrito {
            font-size: 24px;
            cursor: pointer;
            position: relative;
        }
        
        .badge {
            position: absolute;
            top: -5px;
            right: -10px;
            background: red;
            color: white;
            font-size: 12px;
            border-radius: 50%;
            padding: 2px 6px;
        }

        /* --- 1. CARRUSEL T√ÅCTIL (HERO) --- */
        .hero-carousel {
            display: flex;
            overflow-x: auto; /* Permite deslizar horizontalmente */
            scroll-snap-type: x mandatory; /* Efecto magn√©tico */
            -webkit-overflow-scrolling: touch;
            width: 100%;
            height: 250px;
            gap: 0; 
        }

        /* Ocultar barra de scroll del carrusel */
        .hero-carousel::-webkit-scrollbar { display: none; }

        .slide {
            flex: 0 0 100%; /* Cada slide ocupa el 100% del ancho */
            scroll-snap-align: start;
            position: relative;
        }

        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* --- INFO MEDIA --- */
        .info-media {
            padding: 20px;
            text-align: center;
            background: white;
        }

        /* --- MAPA QUE CORTA LA P√ÅGINA --- */
        .mapa-container {
            width: 100%;
            height: 200px;
            background: #ddd;
            line-height: 0; /* Elimina espacios blancos */
        }
        
        iframe { width: 100%; height: 100%; border: 0; }

        /* --- 2. CATEGOR√çAS DESLIZANTES --- */
        .catalogo-section {
            padding: 20px 0;
        }
        
        .titulo-seccion {
            padding: 0 15px;
            margin-bottom: 10px;
        }

        /* Contenedor flexible para las categor√≠as */
        .categorias-scroll {
            display: flex;
            overflow-x: auto; /* Scroll horizontal clave */
            gap: 10px;
            padding: 10px 15px;
            white-space: nowrap; /* Evita que bajen de l√≠nea */
            -webkit-overflow-scrolling: touch;
        }

        .categorias-scroll::-webkit-scrollbar { display: none; } /* Ocultar barra visual */

        .btn-cat {
            background: white;
            border: 1px solid #ddd;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            color: #333;
            flex: 0 0 auto; /* No permite que se encojan */
            cursor: pointer;
        }

        .btn-cat.activo {
            background: #333;
            color: white;
            border-color: #333;
        }

        /* --- PRODUCTOS --- */
        .grid-productos {
            display: grid;
            grid-template-columns: 1fr 1fr; /* 2 columnas */
            gap: 15px;
            padding: 15px;
        }

        .producto-card {
            background: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
        }
        
        .producto-card button {
            background: #28a745;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            margin-top: 5px;
            cursor: pointer;
        }

        /* --- 3. BOT√ìN FLOTANTE "HACER PEDIDO" --- */
        .btn-flotante-container {
            position: fixed;
            bottom: 20px;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            pointer-events: none; /* Para que el contenedor no bloquee clics */
        }

        .btn-accion {
            background-color: #000;
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            pointer-events: auto; /* Reactivar clics en el bot√≥n */
            cursor: pointer;
            transition: transform 0.2s;
        }

        .btn-accion:active {
            transform: scale(0.95);
        }

    </style>
</head>
<body>

    <header>
        <div class="logo">LOGO</div> <div class="icono-carrito">
            üõí <span class="badge" id="contador-carrito">0</span>
        </div>
    </header>

    <div class="hero-carousel">
        <div class="slide">
            <img src="https://via.placeholder.com/600x300/ff7f7f/333?text=Promo+1" alt="Promo 1">
        </div>
        <div class="slide">
            <img src="https://via.placeholder.com/600x300/7f7fff/333?text=Promo+2" alt="Promo 2">
        </div>
        <div class="slide">
            <img src="https://via.placeholder.com/600x300/7fff7f/333?text=Promo+3" alt="Promo 3">
        </div>
    </div>

    <div class="info-media">
        <h3>¬°Bienvenidos a la tienda!</h3>
        <p>Los mejores productos de la zona.</p>
    </div>

    <div class="mapa-container">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3151.835434509374!2d144.9537353153167!3d-37.81720997975171!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6ad642af0f11fd81%3A0xf577d2a75e6b1c0!2sMelbourne%20VIC%2C%20Australia!5e0!3m2!1sen!2sus!4v1611815678900!5m2!1sen!2sus" allowfullscreen="" loading="lazy"></iframe>
    </div>

    <div id="catalogo" class="catalogo-section">
        <h2 class="titulo-seccion">Nuestro Men√∫</h2>
        
        <div class="categorias-scroll">
            <button class="btn-cat activo">Todo</button>
            <button class="btn-cat">Hamburguesas</button>
            <button class="btn-cat">Pizzas</button>
            <button class="btn-cat">Bebidas</button>
            <button class="btn-cat">Postres</button>
            <button class="btn-cat">Promos</button>
            <button class="btn-cat">Vegano</button>
        </div>

        <div class="grid-productos">
            <div class="producto-card">
                <img src="https://via.placeholder.com/100" alt="Prod">
                <h4>Burger Doble</h4>
                <p>$1200</p>
                <button onclick="agregarAlCarrito('Burger Doble', 1200)">Agregar</button>
            </div>
            <div class="producto-card">
                <img src="https://via.placeholder.com/100" alt="Prod">
                <h4>Pizza Muzza</h4>
                <p>$1500</p>
                <button onclick="agregarAlCarrito('Pizza Muzza', 1500)">Agregar</button>
            </div>
             <div class="producto-card">
                <img src="https://via.placeholder.com/100" alt="Prod">
                <h4>Coca Cola</h4>
                <p>$500</p>
                <button onclick="agregarAlCarrito('Coca Cola', 500)">Agregar</button>
            </div>
             <div class="producto-card">
                <img src="https://via.placeholder.com/100" alt="Prod">
                <h4>Papas Fritas</h4>
                <p>$800</p>
                <button onclick="agregarAlCarrito('Papas Fritas', 800)">Agregar</button>
            </div>
        </div>
    </div>

    <div class="btn-flotante-container">
        <button id="btn-accion" class="btn-accion" onclick="manejarClickPrincipal()">
            Hacer tu pedido
        </button>
    </div>

    <script>
        // --- L√ìGICA DEL CARRITO ---
        let carrito = [];
        const btnAccion = document.getElementById('btn-accion');
        const contadorBadge = document.getElementById('contador-carrito');

        function agregarAlCarrito(nombre, precio) {
            // Agregar producto al array
            carrito.push({ nombre, precio });
            
            // Actualizar vista
            actualizarInterfaz();
        }

        function actualizarInterfaz() {
            // Actualizar n√∫mero en el icono del carrito
            contadorBadge.innerText = carrito.length;

            // Cambiar texto del bot√≥n grande seg√∫n estado
            if (carrito.length === 0) {
                btnAccion.innerText = "Hacer tu pedido";
            } else {
                // Muestra el total o "Ver Pedido"
                let total = carrito.reduce((sum, item) => sum + item.precio, 0);
                btnAccion.innerText = `Finalizar Compra ($${total})`;
            }
        }

        // --- L√ìGICA INTELIGENTE DEL BOT√ìN ---
        function manejarClickPrincipal() {
            if (carrito.length === 0) {
                // CASO 1: Carrito vac√≠o -> Llevar al cat√°logo
                const catalogoElement = document.getElementById('catalogo');
                
                // Scroll suave hasta el cat√°logo
                catalogoElement.scrollIntoView({ behavior: 'smooth' });
                
                // Opcional: Peque√±a animaci√≥n para indicar "aqu√≠ est√° el men√∫"
                // alert("¬°Mira nuestro men√∫ primero!"); 
            } else {
                // CASO 2: Carrito con cosas -> Ir a pagar
                // Aqu√≠ rediriges a tu p√°gina de checkout o abres el modal
                alert("Redirigiendo a finalizar compra...");
                // window.location.href = "checkout.html";
            }
        }
    </script>
</body>
</html>